
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.5)

2025-09-20 12:14:26.896 [main] INFO  tech.chhsich.backend.BackendApplication - Starting BackendApplication v0.0.1-SNAPSHOT using Java 25.0.1 with PID 1177667 (/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar started by chhsich in /home/chhsich/Git/Mine/order-management-system/backend)
2025-09-20 12:14:26.897 [main] DEBUG tech.chhsich.backend.BackendApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-20 12:14:26.898 [main] INFO  tech.chhsich.backend.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-20 12:14:27.629 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-20 12:14:27.631 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-20 12:14:27.648 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/AdminMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/LtypeMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/MenuMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/OrderEntryMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/OrderHistoryMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/OrderInfoMapper.class]
2025-09-20 12:14:27.755 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Identified candidate component class: URL [jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/tech/chhsich/backend/mapper/ShoppingCartMapper.class]
2025-09-20 12:14:27.756 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'adminMapper' and 'tech.chhsich.backend.mapper.AdminMapper' mapperInterface
2025-09-20 12:14:27.758 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'ltypeMapper' and 'tech.chhsich.backend.mapper.LtypeMapper' mapperInterface
2025-09-20 12:14:27.759 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'menuMapper' and 'tech.chhsich.backend.mapper.MenuMapper' mapperInterface
2025-09-20 12:14:27.759 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'orderEntryMapper' and 'tech.chhsich.backend.mapper.OrderEntryMapper' mapperInterface
2025-09-20 12:14:27.759 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'orderHistoryMapper' and 'tech.chhsich.backend.mapper.OrderHistoryMapper' mapperInterface
2025-09-20 12:14:27.759 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'orderInfoMapper' and 'tech.chhsich.backend.mapper.OrderInfoMapper' mapperInterface
2025-09-20 12:14:27.759 [main] DEBUG org.mybatis.spring.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'shoppingCartMapper' and 'tech.chhsich.backend.mapper.ShoppingCartMapper' mapperInterface
2025-09-20 12:14:28.464 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-20 12:14:28.476 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-20 12:14:28.476 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-20 12:14:28.507 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/WebOrderSystem] - Initializing Spring embedded WebApplicationContext
2025-09-20 12:14:28.508 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1578 ms
2025-09-20 12:14:28.590 [main] DEBUG t.chhsich.backend.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-20 12:14:29.006 [main] ERROR c.baomidou.mybatisplus.core.MybatisConfiguration - mapper[tech.chhsich.backend.mapper.MenuMapper.findByCategoryIdAndProductLock] is ignored, because it exists, maybe from xml file
2025-09-20 12:14:29.007 [main] ERROR c.baomidou.mybatisplus.core.MybatisConfiguration - mapper[tech.chhsich.backend.mapper.MenuMapper.findByCategoryId] is ignored, because it exists, maybe from xml file
2025-09-20 12:14:29.007 [main] ERROR c.baomidou.mybatisplus.core.MybatisConfiguration - mapper[tech.chhsich.backend.mapper.MenuMapper.findByNewStuijianAndProductLock] is ignored, because it exists, maybe from xml file
2025-09-20 12:14:29.009 [main] ERROR c.baomidou.mybatisplus.core.MybatisConfiguration - mapper[tech.chhsich.backend.mapper.MenuMapper.updateSales] is ignored, because it exists, maybe from xml file
2025-09-20 12:14:29.009 [main] ERROR c.baomidou.mybatisplus.core.MybatisConfiguration - mapper[tech.chhsich.backend.mapper.MenuMapper.findByProductLock] is ignored, because it exists, maybe from xml file
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.14 
2025-09-20 12:14:29.827 [main] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-09-20 12:14:29.828 [main] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-09-20 12:14:29.946 [main] DEBUG o.s.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CsrfFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-09-20 12:14:30.114 [main] INFO  c.b.m.e.spring.MybatisPlusApplicationContextAware - Register ApplicationContext instances org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7b84fcf8
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (jar:nested:/home/chhsich/Git/Mine/order-management-system/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/lib/netty-common-4.1.124.Final.jar!/)
WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
2025-09-20 12:14:30.713 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/WebOrderSystem'
2025-09-20 12:14:30.721 [main] INFO  tech.chhsich.backend.BackendApplication - Started BackendApplication in 4.184 seconds (process running for 4.483)
2025-09-20 12:14:33.530 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/WebOrderSystem] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-20 12:14:33.530 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-20 12:14:33.531 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-20 12:14:33.539 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /actuator/health
[JWT Filter] Path: /WebOrderSystem/actuator/health
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:14:33.543 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:14:33.545 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /actuator/health
[JWT Filter] Path: /WebOrderSystem/actuator/health
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:14:33.564 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-20 12:14:33.565 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:14:33.565 [http-nio-8080-exec-1] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:16:11.227 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:16:19.790 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/user/login
[JWT Filter] Path: /WebOrderSystem/api/user/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: true
[JWT Filter] Should not filter: true
2025-09-20 12:16:19.791 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:19.791 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/user/login
[JWT Filter] Path: /WebOrderSystem/api/user/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: true
[JWT Filter] Should not filter: true
2025-09-20 12:16:19.872 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/user/login, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: UserController, 方法名: loginJson, 参数: [tech.chhsich.backend.dto.LoginRequest@62ede5de]
2025-09-20 12:16:19.878 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:16:19.885 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5277c0a4] was not registered for synchronization because synchronization is not active
2025-09-20 12:16:19.893 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - WebOrderHikariCP - Starting...
2025-09-20 12:16:20.002 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - WebOrderHikariCP - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e25289a
2025-09-20 12:16:20.003 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - WebOrderHikariCP - Start completed.
2025-09-20 12:16:20.005 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@55453178 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e25289a] will not be managed by Spring
2025-09-20 12:16:20.009 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:16:20.032 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:16:20.054 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:16:20.058 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5277c0a4]
2025-09-20 12:16:20.126 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/user/login, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: UserController, 方法名: loginJson, 执行时间: 255ms
2025-09-20 12:16:22.917 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/user/login
[JWT Filter] Path: /WebOrderSystem/api/user/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: true
[JWT Filter] Should not filter: true
2025-09-20 12:16:22.918 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:22.918 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/user/login
[JWT Filter] Path: /WebOrderSystem/api/user/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: true
[JWT Filter] Should not filter: true
2025-09-20 12:16:22.925 [http-nio-8080-exec-9] WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> tech.chhsich.backend.controller.UserController.loginJson(tech.chhsich.backend.dto.LoginRequest): [Field error in object 'loginRequest' on field 'password': rejected value [admin]; codes [Size.loginRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.password,password]; arguments []; default message [password],20,6]; default message [密码长度应在6-20个字符之间]] ]
2025-09-20 12:16:22.926 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /error
2025-09-20 12:16:22.926 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:22.927 [http-nio-8080-exec-9] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:16:25.746 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing DELETE /api/cart/clear
[JWT Filter] Path: /WebOrderSystem/api/cart/clear
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:25.746 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:25.746 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured DELETE /api/cart/clear
[JWT Filter] Path: /WebOrderSystem/api/cart/clear
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:25.748 [http-nio-8080-exec-4] WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'username' for method parameter type String is not present]
2025-09-20 12:16:25.748 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing DELETE /error
2025-09-20 12:16:25.749 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:25.749 [http-nio-8080-exec-4] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:16:38.143 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /actuator/health
[JWT Filter] Path: /WebOrderSystem/actuator/health
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:16:38.144 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:38.144 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /actuator/health
[JWT Filter] Path: /WebOrderSystem/actuator/health
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:16:38.147 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-20 12:16:38.147 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:38.148 [http-nio-8080-exec-6] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:16:50.279 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/admin/login
[JWT Filter] Path: /WebOrderSystem/api/admin/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:50.279 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:50.279 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/admin/login
[JWT Filter] Path: /WebOrderSystem/api/admin/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:50.284 [http-nio-8080-exec-8] WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'username' for method parameter type String is not present]
2025-09-20 12:16:50.284 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /error
2025-09-20 12:16:50.285 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:50.285 [http-nio-8080-exec-8] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:16:55.187 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/admin/login
[JWT Filter] Path: /WebOrderSystem/api/admin/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:55.187 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:55.188 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/admin/login
[JWT Filter] Path: /WebOrderSystem/api/admin/login
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:55.193 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/admin/login, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: AdminLoginController, 方法名: login, 参数: [admin, admin]
2025-09-20 12:16:55.194 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:16:55.194 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46daf477] was not registered for synchronization because synchronization is not active
2025-09-20 12:16:55.194 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@732788006 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e25289a] will not be managed by Spring
2025-09-20 12:16:55.194 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.getMemberByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username=?
2025-09-20 12:16:55.195 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.getMemberByUsername - ==> Parameters: admin(String)
2025-09-20 12:16:55.196 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.getMemberByUsername - <==      Total: 1
2025-09-20 12:16:55.196 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46daf477]
2025-09-20 12:16:55.262 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:16:55.263 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8ace1c] was not registered for synchronization because synchronization is not active
2025-09-20 12:16:55.263 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@281913074 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e25289a] will not be managed by Spring
2025-09-20 12:16:55.263 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:16:55.263 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: admin(String)
2025-09-20 12:16:55.264 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:16:55.265 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f8ace1c]
2025-09-20 12:16:55.331 [http-nio-8080-exec-1] DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider - Failed to authenticate since password does not match stored value
2025-09-20 12:16:55.331 [http-nio-8080-exec-1] DEBUG o.s.security.authentication.ProviderManager - Authentication failed with provider DaoAuthenticationProvider since Bad credentials
2025-09-20 12:16:55.331 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/admin/login, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: AdminLoginController, 方法名: login, 执行时间: 138ms
2025-09-20 12:16:58.506 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/frontend/menu/recommended
[JWT Filter] Path: /WebOrderSystem/api/frontend/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:58.506 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:58.507 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/frontend/menu/recommended
[JWT Filter] Path: /WebOrderSystem/api/frontend/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:16:58.508 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-20 12:16:58.508 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:16:58.508 [http-nio-8080-exec-5] DEBUG o.s.s.w.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-09-20 12:47:23.352 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/cart?username=frontenduser
2025-09-20 12:47:23.353 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/cart?username=frontenduser
2025-09-20 12:47:23.353 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/cart?username=frontenduser
2025-09-20 12:47:23.362 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.367 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.368 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:23.375 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:23.375 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4e1fda] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:23.375 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@911731894 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:23.376 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:23.376 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:23.377 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 0
2025-09-20 12:47:23.377 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4e1fda]
2025-09-20 12:47:23.377 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 9ms
2025-09-20 12:47:23.381 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.382 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.383 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:23.383 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:23.383 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241bdcef] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:23.383 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@539249844 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:23.383 [http-nio-8080-exec-8] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:23.384 [http-nio-8080-exec-8] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:23.384 [http-nio-8080-exec-8] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 0
2025-09-20 12:47:23.384 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241bdcef]
2025-09-20 12:47:23.384 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 1ms
2025-09-20 12:47:23.386 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.388 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde0b70] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@417434675 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:23.389 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:23.390 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 0
2025-09-20 12:47:23.390 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cde0b70]
2025-09-20 12:47:23.390 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 1ms
2025-09-20 12:47:23.392 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.394 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c23562] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1334164549 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:23.395 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:23.396 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 0
2025-09-20 12:47:23.396 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c23562]
2025-09-20 12:47:23.396 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:47:25.681 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/menu/recommended
2025-09-20 12:47:25.681 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/categories
2025-09-20 12:47:25.686 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu/recommended
2025-09-20 12:47:25.686 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
[JWT Filter] Path: /WebOrderSystem/api/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
2025-09-20 12:47:25.686 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:25.686 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
2025-09-20 12:47:25.686 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:25.687 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu/recommended
[JWT Filter] Path: /WebOrderSystem/api/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:25.687 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:47:25.687 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:25.687 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4f5443] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:25.687 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@137133791 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:25.687 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:47:25.687 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu/recommended, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getRecommendedMenus, 参数: 无参数
2025-09-20 12:47:25.688 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:47:25.690 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:25.690 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257e0495] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:25.690 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2069028224 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:47:25.691 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:47:25.691 [http-nio-8080-exec-2] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - ==>  Preparing: SELECT id, createtime as createTime, imgpath as imgPath, info5 as info, name, newstuijian as isRecommend, price1 as originalPrice, price2 as hotPrice, productlock as productLock, xiaoliang as sales, cateid as categoryId FROM menu WHERE newstuijian = ? AND productlock = ?
2025-09-20 12:47:25.691 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4f5443]
2025-09-20 12:47:25.691 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 4ms
2025-09-20 12:47:25.691 [http-nio-8080-exec-2] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - ==> Parameters: 1(Integer), 0(Integer)
2025-09-20 12:47:25.698 [http-nio-8080-exec-2] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - <==      Total: 17
2025-09-20 12:47:25.698 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257e0495]
DEBUG: 获取到 17 个推荐菜品
DEBUG: 菜品 巨无霸 价格字段: originalPrice=23.0, hotPrice=21.0
DEBUG: 菜品 1/4磅牛肉堡 价格字段: originalPrice=26.0, hotPrice=24.0
DEBUG: 菜品 双层芝士汉堡 价格字段: originalPrice=22.0, hotPrice=20.0
DEBUG: 菜品 麦乐鸡(4块) 价格字段: originalPrice=15.0, hotPrice=13.5
DEBUG: 菜品 麦乐鸡(6块) 价格字段: originalPrice=20.0, hotPrice=18.5
DEBUG: 菜品 香辣鸡腿堡 价格字段: originalPrice=21.0, hotPrice=19.5
DEBUG: 菜品 薯条(小) 价格字段: originalPrice=9.0, hotPrice=8.5
DEBUG: 菜品 薯条(中) 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 苹果派 价格字段: originalPrice=8.0, hotPrice=7.5
DEBUG: 菜品 OREO麦旋风 价格字段: originalPrice=13.0, hotPrice=12.0
DEBUG: 菜品 可口可乐(小) 价格字段: originalPrice=7.0, hotPrice=6.5
DEBUG: 菜品 可口可乐(中) 价格字段: originalPrice=9.0, hotPrice=8.5
DEBUG: 菜品 满福堡加蛋 价格字段: originalPrice=14.0, hotPrice=13.0
DEBUG: 菜品 猪柳满福堡 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 烤鸡沙拉 价格字段: originalPrice=22.0, hotPrice=21.0
DEBUG: 菜品 美式咖啡 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 卡布奇诺 价格字段: originalPrice=16.0, hotPrice=15.5
2025-09-20 12:47:25.699 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu/recommended, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getRecommendedMenus, 执行时间: 12ms
2025-09-20 12:47:27.437 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
2025-09-20 12:47:27.437 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/menu
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:27.438 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:27.438 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:27.438 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:47:27.438 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:27.438 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2349b8a7] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:27.439 [http-nio-8080-exec-7] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1489407756 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:27.439 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:47:27.439 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:47:27.440 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu
2025-09-20 12:47:27.440 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:47:27.440 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2349b8a7]
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:27.441 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 3ms
2025-09-20 12:47:27.441 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:27.441 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:27.441 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 参数: 无参数
2025-09-20 12:47:27.449 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:27.449 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c23dc8d] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:27.464 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1292471174 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:27.464 [http-nio-8080-exec-6] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE (productlock = ?)
2025-09-20 12:47:27.465 [http-nio-8080-exec-6] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==> Parameters: 0(Integer)
2025-09-20 12:47:27.468 [http-nio-8080-exec-6] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - <==      Total: 28
2025-09-20 12:47:27.468 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c23dc8d]
2025-09-20 12:47:27.468 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 执行时间: 27ms
2025-09-20 12:47:28.445 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/cart/add?username=frontenduser&productId=1&quantity=1
2025-09-20 12:47:28.451 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:28.452 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:28.452 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:28.455 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 1, 1]
2025-09-20 12:47:28.455 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:28.455 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dbbfb7] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:28.456 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1392544908 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:28.456 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:28.457 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:28.457 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:28.457 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61dbbfb7]
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b80479b] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1008808651 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 1(Long)
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 0
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b80479b]
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:28.458 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56b4e075] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:28.460 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@326578579 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:28.460 [http-nio-8080-exec-10] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - ==>  Preparing: INSERT INTO shopping_cart ( username, product_id, product_name, price, quantity, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:47:28.462 [http-nio-8080-exec-10] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - ==> Parameters: frontenduser(String), 1(Long), 巨无霸(String), 21.0(Double), 1(Integer), 2025-09-20T12:47:28.458786715(LocalDateTime), 2025-09-20T12:47:28.458794990(LocalDateTime)
2025-09-20 12:47:28.473 [http-nio-8080-exec-10] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - <==    Updates: 1
2025-09-20 12:47:28.475 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56b4e075]
2025-09-20 12:47:28.475 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 20ms
2025-09-20 12:47:28.479 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:28.480 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:28.480 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:28.481 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:28.481 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc93d32] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:28.481 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1817962545 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:28.481 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:28.481 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:28.482 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 1
2025-09-20 12:47:28.482 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cc93d32]
2025-09-20 12:47:28.482 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:47:29.000 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.002 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:29.002 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.003 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 1, 1]
2025-09-20 12:47:29.004 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.004 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f50c710] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.005 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@460275746 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.005 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:29.006 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f50c710]
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7688b00f] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1870238089 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.007 [http-nio-8080-exec-5] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.008 [http-nio-8080-exec-5] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 1(Long)
2025-09-20 12:47:29.008 [http-nio-8080-exec-5] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 1
2025-09-20 12:47:29.008 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7688b00f]
2025-09-20 12:47:29.009 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.009 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e423264] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.009 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@783276180 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.009 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==>  Preparing: UPDATE shopping_cart SET quantity = quantity + ?, update_time = NOW() WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.009 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==> Parameters: 1(Integer), frontenduser(String), 1(Long)
2025-09-20 12:47:29.025 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - <==    Updates: 1
2025-09-20 12:47:29.025 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e423264]
2025-09-20 12:47:29.025 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 22ms
2025-09-20 12:47:29.030 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.032 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cef515] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1907510095 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:29.033 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:29.034 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 1
2025-09-20 12:47:29.034 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cef515]
2025-09-20 12:47:29.034 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 1ms
2025-09-20 12:47:29.212 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.213 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:29.213 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.214 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 1, 1]
2025-09-20 12:47:29.215 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.215 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bad3a] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.215 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@319074864 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.215 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:29.215 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bad3a]
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4093e23c] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@443262313 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.216 [http-nio-8080-exec-4] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 1(Long)
2025-09-20 12:47:29.217 [http-nio-8080-exec-4] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 1
2025-09-20 12:47:29.217 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4093e23c]
2025-09-20 12:47:29.217 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.217 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4adfa0c5] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.217 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@352463264 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.218 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==>  Preparing: UPDATE shopping_cart SET quantity = quantity + ?, update_time = NOW() WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.218 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==> Parameters: 1(Integer), frontenduser(String), 1(Long)
2025-09-20 12:47:29.228 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - <==    Updates: 1
2025-09-20 12:47:29.228 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4adfa0c5]
2025-09-20 12:47:29.228 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 14ms
2025-09-20 12:47:29.233 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.235 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.235 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:29.235 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.235 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a797266] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.236 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@299382979 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:47:29.236 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:29.237 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:29.238 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 1
2025-09-20 12:47:29.238 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a797266]
2025-09-20 12:47:29.238 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 3ms
2025-09-20 12:47:29.403 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.405 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:29.405 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=1&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:29.407 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 1, 1]
2025-09-20 12:47:29.407 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.407 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e34d12c] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.407 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1688556899 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.408 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:29.408 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:29.409 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e34d12c]
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51efc5cf] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1229636463 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.410 [http-nio-8080-exec-9] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 1(Long)
2025-09-20 12:47:29.411 [http-nio-8080-exec-9] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 1
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51efc5cf]
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68387169] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1205211164 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==>  Preparing: UPDATE shopping_cart SET quantity = quantity + ?, update_time = NOW() WHERE username = ? AND product_id = ?
2025-09-20 12:47:29.412 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==> Parameters: 1(Integer), frontenduser(String), 1(Long)
2025-09-20 12:47:29.431 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - <==    Updates: 1
2025-09-20 12:47:29.431 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68387169]
2025-09-20 12:47:29.431 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 24ms
2025-09-20 12:47:29.436 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.437 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:29.438 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:29.438 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:29.438 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd2a524] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:29.439 [http-nio-8080-exec-7] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1627448701 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:29.439 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:29.439 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:29.440 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 1
2025-09-20 12:47:29.441 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd2a524]
2025-09-20 12:47:29.441 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 3ms
2025-09-20 12:47:30.117 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/cart/add?username=frontenduser&productId=2&quantity=1
2025-09-20 12:47:30.121 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=2&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:30.122 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:30.122 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=2&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:30.123 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 2, 1]
2025-09-20 12:47:30.123 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:30.123 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564ad5f0] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:30.124 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@84486555 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:30.124 [http-nio-8080-exec-8] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:30.124 [http-nio-8080-exec-8] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564ad5f0]
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2b44f8] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1297022456 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:30.126 [http-nio-8080-exec-8] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:47:30.127 [http-nio-8080-exec-8] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 2(Long)
2025-09-20 12:47:30.127 [http-nio-8080-exec-8] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 0
2025-09-20 12:47:30.127 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2b44f8]
2025-09-20 12:47:30.127 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:30.127 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343f1131] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:30.128 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@589598666 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:30.128 [http-nio-8080-exec-8] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - ==>  Preparing: INSERT INTO shopping_cart ( username, product_id, product_name, price, quantity, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:47:30.128 [http-nio-8080-exec-8] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - ==> Parameters: frontenduser(String), 2(Long), 1/4磅牛肉堡(String), 24.0(Double), 1(Integer), 2025-09-20T12:47:30.127849271(LocalDateTime), 2025-09-20T12:47:30.127854062(LocalDateTime)
2025-09-20 12:47:30.138 [http-nio-8080-exec-8] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.insert - <==    Updates: 1
2025-09-20 12:47:30.138 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343f1131]
2025-09-20 12:47:30.139 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 16ms
2025-09-20 12:47:30.143 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:30.145 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:30.145 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:30.145 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:30.146 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b01fa3] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:30.146 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@362058224 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:30.146 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:30.146 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:30.147 [http-nio-8080-exec-10] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:47:30.147 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72b01fa3]
2025-09-20 12:47:30.147 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:47:30.797 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:30.799 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:30.799 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:30.799 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:30.799 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd7e608] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:30.799 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1221138326 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:30.800 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:30.800 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:30.801 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:47:30.801 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd7e608]
2025-09-20 12:47:30.801 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:47:38.542 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-09-20 12:47:38.545 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:38.547 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:38.585 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 参数: [OrderController.OrderCreateRequest(username=frontenduser, items=[tech.chhsich.backend.service.OrderService$OrderItemRequest@592601d3, tech.chhsich.backend.service.OrderService$OrderItemRequest@255d1adb], address=青岛市城阳区, phone=13800138000)]
2025-09-20 12:47:38.589 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:38.589 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.589 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@230166233 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will be managed by Spring
2025-09-20 12:47:38.590 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:47:38.590 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:38.591 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:47:38.591 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.592 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.592 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:38.592 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:38.593 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:38.593 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.593 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.594 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:38.594 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:47:38.595 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:38.595 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.595 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.597 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==>  Preparing: INSERT INTO cg_info ( address, createtime, orderid, phone, status, totalprice, username ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:47:38.597 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==> Parameters: 青岛市城阳区(String), 2025-09-20T12:47:38.591833224(LocalDateTime), ORDBECC0C1FF0E9(String), 13800138000(String), 0(Integer), 108.0(Double), frontenduser(String)
2025-09-20 12:47:38.598 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - <==    Updates: 1
2025-09-20 12:47:38.599 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.599 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.599 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:38.599 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:47:38.600 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:38.600 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.600 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.601 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:47:38.602 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 21.0(Double), 1(Long), 巨无霸(String), 4(Integer), ORDBECC0C1FF0E9(String)
2025-09-20 12:47:38.603 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:47:38.603 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.603 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.606 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:47:38.606 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/bigmac.jpg(String), 麦当劳经典汉堡，双层牛肉饼，特制酱料(String), 巨无霸(String), 1(Integer), 23.0(Double), 21.0(Double), 0(Integer), 1267(Integer), 1(Long), 1(Long)
2025-09-20 12:47:38.607 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:47:38.607 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.607 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.608 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:47:38.608 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:47:38.609 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:47:38.609 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.609 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.609 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:47:38.610 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 24.0(Double), 2(Long), 1/4磅牛肉堡(String), 1(Integer), ORDBECC0C1FF0E9(String)
2025-09-20 12:47:38.611 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:47:38.611 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.611 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e] from current transaction
2025-09-20 12:47:38.611 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:47:38.612 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/quarter_pounder.jpg(String), 1/4磅新鲜牛肉，洋葱、酸瓜、芥末酱(String), 1/4磅牛肉堡(String), 1(Integer), 26.0(Double), 24.0(Double), 0(Integer), 835(Integer), 1(Long), 2(Long)
2025-09-20 12:47:38.613 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:47:38.613 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.613 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.613 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.614 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2fd56e]
2025-09-20 12:47:38.624 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 执行时间: 39ms
2025-09-20 12:47:48.574 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu
2025-09-20 12:47:48.574 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] Is login path: false
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] Should not filter: true
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:48.574 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:48.574 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:48.574 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu
2025-09-20 12:47:48.574 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
[JWT Filter] Should not filter: true
2025-09-20 12:47:48.575 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:47:48.575 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 参数: 无参数
2025-09-20 12:47:48.575 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:48.575 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9c6ba4b] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:48.575 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:48.575 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c776c4a] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:48.576 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@227401210 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:48.576 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:47:48.576 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:47:48.576 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1639892420 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:47:48.576 [http-nio-8080-exec-2] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE (productlock = ?)
2025-09-20 12:47:48.576 [http-nio-8080-exec-2] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==> Parameters: 0(Integer)
2025-09-20 12:47:48.577 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:47:48.578 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9c6ba4b]
2025-09-20 12:47:48.578 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 3ms
2025-09-20 12:47:48.582 [http-nio-8080-exec-2] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - <==      Total: 28
2025-09-20 12:47:48.582 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c776c4a]
2025-09-20 12:47:48.582 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 执行时间: 7ms
2025-09-20 12:47:50.075 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:50.077 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5733d84f] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1218783721 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:50.078 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:50.079 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:47:50.079 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5733d84f]
2025-09-20 12:47:50.079 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:47:51.204 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/orders?page=1&size=10
2025-09-20 12:47:51.207 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:51.208 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:51.209 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:47:51.209 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:51.209 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ebe989] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:51.210 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1445919271 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:51.210 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:47:51.210 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:51.211 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 2
2025-09-20 12:47:51.212 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16ebe989]
2025-09-20 12:47:51.212 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 3ms
2025-09-20 12:47:56.292 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu
2025-09-20 12:47:56.292 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
[JWT Filter] Should not filter: true
2025-09-20 12:47:56.292 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:56.292 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:47:56.292 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
2025-09-20 12:47:56.292 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] Is login path: false
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] Should not filter: true
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 参数: 无参数
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965e9dd] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfb892] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@142655429 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:47:56.293 [http-nio-8080-exec-8] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@651684732 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE (productlock = ?)
2025-09-20 12:47:56.293 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==> Parameters: 0(Integer)
2025-09-20 12:47:56.294 [http-nio-8080-exec-8] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:47:56.294 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6965e9dd]
2025-09-20 12:47:56.294 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 1ms
2025-09-20 12:47:56.297 [http-nio-8080-exec-10] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - <==      Total: 28
2025-09-20 12:47:56.297 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bfb892]
2025-09-20 12:47:56.298 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 执行时间: 5ms
2025-09-20 12:47:57.891 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:57.892 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:47:57.893 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:47:57.893 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:47:57.893 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e2b0e5] was not registered for synchronization because synchronization is not active
2025-09-20 12:47:57.894 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1012850816 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:47:57.894 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:47:57.894 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:47:57.895 [http-nio-8080-exec-1] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:47:57.895 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e2b0e5]
2025-09-20 12:47:57.896 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 3ms
2025-09-20 12:48:03.963 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:03.964 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:03.965 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 参数: [OrderController.OrderCreateRequest(username=frontenduser, items=[tech.chhsich.backend.service.OrderService$OrderItemRequest@2c1bb0b5, tech.chhsich.backend.service.OrderService$OrderItemRequest@710efdb9], address=嘟嘟嘟嘚哒哒哒, phone=13800138000)]
2025-09-20 12:48:03.966 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:48:03.966 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.966 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@146100132 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will be managed by Spring
2025-09-20 12:48:03.966 [http-nio-8080-exec-5] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:48:03.966 [http-nio-8080-exec-5] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:48:03.967 [http-nio-8080-exec-5] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:48:03.967 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.968 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.968 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:48:03.968 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:48:03.969 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:48:03.969 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.969 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.969 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:48:03.969 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:48:03.970 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:48:03.970 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.970 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.971 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==>  Preparing: INSERT INTO cg_info ( address, createtime, orderid, phone, status, totalprice, username ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:48:03.971 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==> Parameters: 嘟嘟嘟嘚哒哒哒(String), 2025-09-20T12:48:03.968104718(LocalDateTime), ORD4D984AFF6A45(String), 13800138000(String), 0(Integer), 108.0(Double), frontenduser(String)
2025-09-20 12:48:03.972 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - <==    Updates: 1
2025-09-20 12:48:03.972 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.972 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.972 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:48:03.973 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:48:03.974 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:48:03.974 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.974 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.974 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:48:03.975 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 21.0(Double), 1(Long), 巨无霸(String), 4(Integer), ORD4D984AFF6A45(String)
2025-09-20 12:48:03.976 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:48:03.976 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.976 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.977 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:48:03.977 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/bigmac.jpg(String), 麦当劳经典汉堡，双层牛肉饼，特制酱料(String), 巨无霸(String), 1(Integer), 23.0(Double), 21.0(Double), 0(Integer), 1271(Integer), 1(Long), 1(Long)
2025-09-20 12:48:03.978 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:48:03.978 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.978 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.978 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:48:03.979 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:48:03.980 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:48:03.980 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.980 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.980 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:48:03.981 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 24.0(Double), 2(Long), 1/4磅牛肉堡(String), 1(Integer), ORD4D984AFF6A45(String)
2025-09-20 12:48:03.982 [http-nio-8080-exec-5] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:48:03.982 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.982 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0] from current transaction
2025-09-20 12:48:03.982 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:48:03.983 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/quarter_pounder.jpg(String), 1/4磅新鲜牛肉，洋葱、酸瓜、芥末酱(String), 1/4磅牛肉堡(String), 1(Integer), 26.0(Double), 24.0(Double), 0(Integer), 836(Integer), 1(Long), 2(Long)
2025-09-20 12:48:03.984 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:48:03.984 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.984 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.984 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.984 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@698abfd0]
2025-09-20 12:48:03.995 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 执行时间: 30ms
2025-09-20 12:48:06.102 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:06.103 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60df88b6] was not registered for synchronization because synchronization is not active
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@442796478 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:48:06.104 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:48:06.106 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 3
2025-09-20 12:48:06.106 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60df88b6]
2025-09-20 12:48:06.106 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 2ms
2025-09-20 12:48:10.592 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/orders?page=1&size=10&status=PENDING
2025-09-20 12:48:10.595 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10&status=PENDING
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:10.596 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10&status=PENDING
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f66c5dc] was not registered for synchronization because synchronization is not active
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1415064353 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:48:10.597 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:48:10.598 [http-nio-8080-exec-2] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 3
2025-09-20 12:48:10.599 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f66c5dc]
2025-09-20 12:48:10.599 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 2ms
2025-09-20 12:48:11.224 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing OPTIONS /api/orders?page=1&size=10&status=PROCESSING
2025-09-20 12:48:11.226 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10&status=PROCESSING
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:11.228 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10&status=PROCESSING
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:11.228 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:48:11.228 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:48:11.228 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fb2c67] was not registered for synchronization because synchronization is not active
2025-09-20 12:48:11.229 [http-nio-8080-exec-7] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1595597168 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:48:11.229 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:48:11.229 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:48:11.230 [http-nio-8080-exec-7] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 3
2025-09-20 12:48:11.230 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fb2c67]
2025-09-20 12:48:11.230 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 2ms
2025-09-20 12:48:11.819 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:11.820 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:48:11.820 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:48:11.821 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:48:11.821 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704394c5] was not registered for synchronization because synchronization is not active
2025-09-20 12:48:11.821 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@967675109 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:48:11.821 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:48:11.821 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:48:11.822 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 3
2025-09-20 12:48:11.822 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704394c5]
2025-09-20 12:48:11.822 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 2ms
2025-09-20 12:50:28.973 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:50:28.974 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:50:28.975 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:50:28.975 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:50:28.975 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593ed852] was not registered for synchronization because synchronization is not active
2025-09-20 12:50:28.976 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1949887925 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:50:28.976 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:50:28.976 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:50:28.977 [http-nio-8080-exec-5] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:50:28.977 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593ed852]
2025-09-20 12:50:28.977 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:51:08.696 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:51:08.697 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 参数: [OrderController.OrderCreateRequest(username=frontenduser, items=[tech.chhsich.backend.service.OrderService$OrderItemRequest@63c340d9, tech.chhsich.backend.service.OrderService$OrderItemRequest@619d6df5], address=苏打粉苏打粉, phone=13800138000)]
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@828074647 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will be managed by Spring
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:51:08.698 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:51:08.699 [http-nio-8080-exec-3] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:51:08.699 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.699 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.699 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:08.700 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:51:08.700 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:08.700 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.700 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.701 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:08.701 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:51:08.702 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:08.702 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.702 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.703 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==>  Preparing: INSERT INTO cg_info ( address, createtime, orderid, phone, status, totalprice, username ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:51:08.703 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==> Parameters: 苏打粉苏打粉(String), 2025-09-20T12:51:08.699634589(LocalDateTime), ORD54AFFE4313D0(String), 13800138000(String), 0(Integer), 108.0(Double), frontenduser(String)
2025-09-20 12:51:08.704 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - <==    Updates: 1
2025-09-20 12:51:08.704 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.704 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.704 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:08.704 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:51:08.705 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:08.705 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.705 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.706 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:51:08.706 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 21.0(Double), 1(Long), 巨无霸(String), 4(Integer), ORD54AFFE4313D0(String)
2025-09-20 12:51:08.707 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:51:08.707 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.707 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.708 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:51:08.708 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/bigmac.jpg(String), 麦当劳经典汉堡，双层牛肉饼，特制酱料(String), 巨无霸(String), 1(Integer), 23.0(Double), 21.0(Double), 0(Integer), 1275(Integer), 1(Long), 1(Long)
2025-09-20 12:51:08.709 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:51:08.710 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.710 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.710 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:08.710 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:51:08.711 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:08.711 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.711 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.711 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:51:08.712 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 24.0(Double), 2(Long), 1/4磅牛肉堡(String), 1(Integer), ORD54AFFE4313D0(String)
2025-09-20 12:51:08.712 [http-nio-8080-exec-3] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:51:08.713 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.713 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7] from current transaction
2025-09-20 12:51:08.713 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:51:08.714 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/quarter_pounder.jpg(String), 1/4磅新鲜牛肉，洋葱、酸瓜、芥末酱(String), 1/4磅牛肉堡(String), 1(Integer), 26.0(Double), 24.0(Double), 0(Integer), 837(Integer), 1(Long), 2(Long)
2025-09-20 12:51:08.715 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:51:08.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35938af7]
2025-09-20 12:51:08.732 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 执行时间: 34ms
2025-09-20 12:51:13.067 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:51:13.069 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:51:13.072 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 参数: [OrderController.OrderCreateRequest(username=frontenduser, items=[tech.chhsich.backend.service.OrderService$OrderItemRequest@555cf17d, tech.chhsich.backend.service.OrderService$OrderItemRequest@34a471bc], address=苏打粉苏打粉, phone=13800138000)]
2025-09-20 12:51:13.073 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:51:13.073 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.073 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2100128316 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will be managed by Spring
2025-09-20 12:51:13.073 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:51:13.073 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:51:13.074 [http-nio-8080-exec-4] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:51:13.074 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.074 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.074 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:13.074 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:51:13.075 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:13.075 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.075 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.075 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:13.076 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:51:13.076 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:13.076 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.077 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.077 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==>  Preparing: INSERT INTO cg_info ( address, createtime, orderid, phone, status, totalprice, username ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:51:13.078 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==> Parameters: 苏打粉苏打粉(String), 2025-09-20T12:51:13.074749500(LocalDateTime), ORD6F7576A9C1ED(String), 13800138000(String), 0(Integer), 108.0(Double), frontenduser(String)
2025-09-20 12:51:13.078 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - <==    Updates: 1
2025-09-20 12:51:13.079 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.079 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.079 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:13.079 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:51:13.080 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:13.080 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.080 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.080 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:51:13.081 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 21.0(Double), 1(Long), 巨无霸(String), 4(Integer), ORD6F7576A9C1ED(String)
2025-09-20 12:51:13.081 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:51:13.082 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.082 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.082 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:51:13.083 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/bigmac.jpg(String), 麦当劳经典汉堡，双层牛肉饼，特制酱料(String), 巨无霸(String), 1(Integer), 23.0(Double), 21.0(Double), 0(Integer), 1279(Integer), 1(Long), 1(Long)
2025-09-20 12:51:13.084 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:51:13.084 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.084 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.084 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:51:13.084 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:51:13.085 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:51:13.085 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.085 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.085 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:51:13.086 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 24.0(Double), 2(Long), 1/4磅牛肉堡(String), 1(Integer), ORD6F7576A9C1ED(String)
2025-09-20 12:51:13.086 [http-nio-8080-exec-4] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:51:13.087 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.087 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1] from current transaction
2025-09-20 12:51:13.087 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:51:13.088 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/quarter_pounder.jpg(String), 1/4磅新鲜牛肉，洋葱、酸瓜、芥末酱(String), 1/4磅牛肉堡(String), 1(Integer), 26.0(Double), 24.0(Double), 0(Integer), 838(Integer), 1(Long), 2(Long)
2025-09-20 12:51:13.088 [http-nio-8080-exec-4] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:51:13.088 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.089 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.089 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.089 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@158d30d1]
2025-09-20 12:51:13.098 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 执行时间: 26ms
2025-09-20 12:54:52.760 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.761 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.761 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:54:52.761 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:54:52.761 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f38a380] was not registered for synchronization because synchronization is not active
2025-09-20 12:54:52.762 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1704023644 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:54:52.762 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:54:52.762 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:54:52.762 [http-nio-8080-exec-9] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:54:52.763 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f38a380]
2025-09-20 12:54:52.763 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:54:52.766 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.767 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.767 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:54:52.767 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:54:52.767 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb094ed] was not registered for synchronization because synchronization is not active
2025-09-20 12:54:52.768 [http-nio-8080-exec-7] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@606724458 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:54:52.768 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:54:52.768 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:54:52.769 [http-nio-8080-exec-7] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:54:52.769 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb094ed]
2025-09-20 12:54:52.769 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:54:52.771 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.772 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf292c1] was not registered for synchronization because synchronization is not active
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1777199902 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:54:52.773 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:54:52.774 [http-nio-8080-exec-6] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:54:52.774 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf292c1]
2025-09-20 12:54:52.775 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 3ms
2025-09-20 12:55:03.876 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu/recommended
[JWT Filter] Path: /WebOrderSystem/api/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:03.876 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:55:03.876 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu/recommended
[JWT Filter] Path: /WebOrderSystem/api/menu/recommended
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:03.876 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
2025-09-20 12:55:03.876 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu/recommended, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getRecommendedMenus, 参数: 无参数
2025-09-20 12:55:03.877 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
2025-09-20 12:55:03.877 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53559f71] was not registered for synchronization because synchronization is not active
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:03.877 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:55:03.877 [http-nio-8080-exec-8] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1587969097 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:03.877 [http-nio-8080-exec-8] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - ==>  Preparing: SELECT id, createtime as createTime, imgpath as imgPath, info5 as info, name, newstuijian as isRecommend, price1 as originalPrice, price2 as hotPrice, productlock as productLock, xiaoliang as sales, cateid as categoryId FROM menu WHERE newstuijian = ? AND productlock = ?
2025-09-20 12:55:03.877 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:03.877 [http-nio-8080-exec-8] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - ==> Parameters: 1(Integer), 0(Integer)
2025-09-20 12:55:03.878 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:55:03.878 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:03.878 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e65d51b] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:03.878 [http-nio-8080-exec-10] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@880323728 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:55:03.879 [http-nio-8080-exec-10] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:55:03.879 [http-nio-8080-exec-10] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:55:03.880 [http-nio-8080-exec-8] DEBUG t.c.b.m.MenuMapper.findByNewStuijianAndProductLock - <==      Total: 17
2025-09-20 12:55:03.881 [http-nio-8080-exec-10] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:55:03.881 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53559f71]
DEBUG: 获取到 17 个推荐菜品
DEBUG: 菜品 巨无霸 价格字段: originalPrice=23.0, hotPrice=21.0
DEBUG: 菜品 1/4磅牛肉堡 价格字段: originalPrice=26.0, hotPrice=24.0
DEBUG: 菜品 双层芝士汉堡 价格字段: originalPrice=22.0, hotPrice=20.0
DEBUG: 菜品 麦乐鸡(4块) 价格字段: originalPrice=15.0, hotPrice=13.5
DEBUG: 菜品 麦乐鸡(6块) 价格字段: originalPrice=20.0, hotPrice=18.5
DEBUG: 菜品 香辣鸡腿堡 价格字段: originalPrice=21.0, hotPrice=19.5
DEBUG: 菜品 薯条(小) 价格字段: originalPrice=9.0, hotPrice=8.5
DEBUG: 菜品 薯条(中) 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 苹果派 价格字段: originalPrice=8.0, hotPrice=7.5
2025-09-20 12:55:03.881 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e65d51b]
DEBUG: 菜品 OREO麦旋风 价格字段: originalPrice=13.0, hotPrice=12.0
DEBUG: 菜品 可口可乐(小) 价格字段: originalPrice=7.0, hotPrice=6.5
DEBUG: 菜品 可口可乐(中) 价格字段: originalPrice=9.0, hotPrice=8.5
DEBUG: 菜品 满福堡加蛋 价格字段: originalPrice=14.0, hotPrice=13.0
DEBUG: 菜品 猪柳满福堡 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 烤鸡沙拉 价格字段: originalPrice=22.0, hotPrice=21.0
DEBUG: 菜品 美式咖啡 价格字段: originalPrice=12.0, hotPrice=11.5
DEBUG: 菜品 卡布奇诺 价格字段: originalPrice=16.0, hotPrice=15.5
2025-09-20 12:55:03.881 [http-nio-8080-exec-10] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 3ms
2025-09-20 12:55:03.881 [http-nio-8080-exec-8] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu/recommended, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getRecommendedMenus, 执行时间: 5ms
2025-09-20 12:55:04.757 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/categories
2025-09-20 12:55:04.757 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/menu
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] ContextPath: /WebOrderSystem
2025-09-20 12:55:04.758 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:04.758 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:55:04.758 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/categories
[JWT Filter] Path: /WebOrderSystem/api/categories
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:04.758 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/menu
[JWT Filter] Path: /WebOrderSystem/api/menu
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:04.758 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 参数: 无参数
2025-09-20 12:55:04.758 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:04.758 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ee8574] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:04.759 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 参数: 无参数
2025-09-20 12:55:04.759 [http-nio-8080-exec-1] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1769941833 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:04.759 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==>  Preparing: SELECT * FROM ltypes WHERE catelock = ?
2025-09-20 12:55:04.759 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:04.759 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f04d1c] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:04.759 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - ==> Parameters: 0(Integer)
2025-09-20 12:55:04.760 [http-nio-8080-exec-5] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@273000743 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:55:04.760 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE (productlock = ?)
2025-09-20 12:55:04.760 [http-nio-8080-exec-1] DEBUG t.c.backend.mapper.LtypeMapper.findByCatelock - <==      Total: 8
2025-09-20 12:55:04.760 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22ee8574]
2025-09-20 12:55:04.760 [http-nio-8080-exec-1] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/categories, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: CategoryController, 方法名: getAllCategories, 执行时间: 2ms
2025-09-20 12:55:04.760 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - ==> Parameters: 0(Integer)
2025-09-20 12:55:04.763 [http-nio-8080-exec-5] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectList - <==      Total: 28
2025-09-20 12:55:04.763 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f04d1c]
2025-09-20 12:55:04.763 [http-nio-8080-exec-5] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/menu, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: FrontendMenuController, 方法名: getAllAvailableMenus, 执行时间: 4ms
2025-09-20 12:55:05.713 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/cart/add?username=frontenduser&productId=2&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:05.714 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:55:05.714 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/cart/add?username=frontenduser&productId=2&quantity=1
[JWT Filter] Path: /WebOrderSystem/api/cart/add
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:05.714 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 参数: [frontenduser, 2, 1]
2025-09-20 12:55:05.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:05.715 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134eb66a] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:05.715 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@714916441 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:05.715 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:55:05.715 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@134eb66a]
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8b6111] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@747660236 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ? AND product_id = ?
2025-09-20 12:55:05.716 [http-nio-8080-exec-3] DEBUG t.c.b.m.S.findByUsernameAndProductId - ==> Parameters: frontenduser(String), 2(Long)
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG t.c.b.m.S.findByUsernameAndProductId - <==      Total: 1
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8b6111]
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153ec36c] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@70040371 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==>  Preparing: UPDATE shopping_cart SET quantity = quantity + ?, update_time = NOW() WHERE username = ? AND product_id = ?
2025-09-20 12:55:05.717 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - ==> Parameters: 1(Integer), frontenduser(String), 2(Long)
2025-09-20 12:55:05.727 [http-nio-8080-exec-3] DEBUG t.c.b.mapper.ShoppingCartMapper.updateQuantity - <==    Updates: 1
2025-09-20 12:55:05.727 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@153ec36c]
2025-09-20 12:55:05.727 [http-nio-8080-exec-3] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/add, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: addToCart, 执行时间: 13ms
2025-09-20 12:55:05.733 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:05.734 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81cf194] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@415546370 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:55:05.735 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:55:05.736 [http-nio-8080-exec-4] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:55:05.736 [http-nio-8080-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81cf194]
2025-09-20 12:55:05.736 [http-nio-8080-exec-4] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 1ms
2025-09-20 12:55:06.367 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/cart?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 参数: [frontenduser]
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e4cfb96] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1018280316 wrapping com.mysql.cj.jdbc.ConnectionImpl@7955f767] will not be managed by Spring
2025-09-20 12:55:06.368 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==>  Preparing: SELECT * FROM shopping_cart WHERE username = ?
2025-09-20 12:55:06.369 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:55:06.370 [http-nio-8080-exec-2] DEBUG t.c.b.mapper.ShoppingCartMapper.findByUsername - <==      Total: 2
2025-09-20 12:55:06.370 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e4cfb96]
2025-09-20 12:55:06.370 [http-nio-8080-exec-2] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/cart, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: getUserCart, 执行时间: 2ms
2025-09-20 12:55:39.396 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:39.397 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/orders
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:39.399 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 参数: [OrderController.OrderCreateRequest(username=frontenduser, items=[tech.chhsich.backend.service.OrderService$OrderItemRequest@57eee311, tech.chhsich.backend.service.OrderService$OrderItemRequest@6ebe24b1], address=十多个法式蛋糕, phone=13800138000)]
2025-09-20 12:55:39.399 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:39.400 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.400 [http-nio-8080-exec-9] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1168425816 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will be managed by Spring
2025-09-20 12:55:39.400 [http-nio-8080-exec-9] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==>  Preparing: SELECT * FROM administrators WHERE username = ?
2025-09-20 12:55:39.400 [http-nio-8080-exec-9] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:55:39.401 [http-nio-8080-exec-9] DEBUG t.c.backend.mapper.AdminMapper.findByUsername - <==      Total: 1
2025-09-20 12:55:39.401 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.401 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.401 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:55:39.402 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:55:39.402 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:55:39.403 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.403 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.403 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:55:39.403 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:55:39.404 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:55:39.404 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.404 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.405 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==>  Preparing: INSERT INTO cg_info ( address, createtime, orderid, phone, status, totalprice, username ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2025-09-20 12:55:39.405 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - ==> Parameters: 十多个法式蛋糕(String), 2025-09-20T12:55:39.401667920(LocalDateTime), ORD19EE5C7475E3(String), 13800138000(String), 0(Integer), 132.0(Double), frontenduser(String)
2025-09-20 12:55:39.406 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderInfoMapper.insert - <==    Updates: 1
2025-09-20 12:55:39.406 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.406 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.407 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:55:39.407 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 1(Long)
2025-09-20 12:55:39.408 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:55:39.408 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.408 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.409 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:55:39.409 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 21.0(Double), 1(Long), 巨无霸(String), 4(Integer), ORD19EE5C7475E3(String)
2025-09-20 12:55:39.410 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:55:39.410 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.410 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.410 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:55:39.411 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/bigmac.jpg(String), 麦当劳经典汉堡，双层牛肉饼，特制酱料(String), 巨无霸(String), 1(Integer), 23.0(Double), 21.0(Double), 0(Integer), 1283(Integer), 1(Long), 1(Long)
2025-09-20 12:55:39.412 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:55:39.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.412 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.412 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==>  Preparing: SELECT id,createtime,imgpath,info5 AS info,name,newstuijian AS isRecommend,price1 AS originalPrice,price2 AS hotPrice,productlock,xiaoliang AS sales,cateid AS categoryId FROM menu WHERE id=?
2025-09-20 12:55:39.412 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - ==> Parameters: 2(Long)
2025-09-20 12:55:39.413 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.selectById - <==      Total: 1
2025-09-20 12:55:39.413 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.413 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.413 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==>  Preparing: INSERT INTO the_order_entry ( price, productid, productname, productnum, orderid ) VALUES ( ?, ?, ?, ?, ? )
2025-09-20 12:55:39.414 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - ==> Parameters: 24.0(Double), 2(Long), 1/4磅牛肉堡(String), 2(Integer), ORD19EE5C7475E3(String)
2025-09-20 12:55:39.414 [http-nio-8080-exec-9] DEBUG t.chhsich.backend.mapper.OrderEntryMapper.insert - <==    Updates: 1
2025-09-20 12:55:39.415 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.415 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3] from current transaction
2025-09-20 12:55:39.415 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==>  Preparing: UPDATE menu SET createtime=?, imgpath=?, info5=?, name=?, newstuijian=?, price1=?, price2=?, productlock=?, xiaoliang=?, cateid=? WHERE id=?
2025-09-20 12:55:39.416 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - ==> Parameters: 2025-09-20T08:27:25(LocalDateTime), /images/quarter_pounder.jpg(String), 1/4磅新鲜牛肉，洋葱、酸瓜、芥末酱(String), 1/4磅牛肉堡(String), 1(Integer), 26.0(Double), 24.0(Double), 0(Integer), 840(Integer), 1(Long), 2(Long)
2025-09-20 12:55:39.416 [http-nio-8080-exec-9] DEBUG tech.chhsich.backend.mapper.MenuMapper.updateById - <==    Updates: 1
2025-09-20 12:55:39.417 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.417 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.417 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.417 [http-nio-8080-exec-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6969c7c3]
2025-09-20 12:55:39.422 [http-nio-8080-exec-9] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: POST, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: createOrder, 执行时间: 23ms
2025-09-20 12:55:39.429 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing DELETE /api/cart/clear?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart/clear
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:39.429 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-20 12:55:39.429 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured DELETE /api/cart/clear?username=frontenduser
[JWT Filter] Path: /WebOrderSystem/api/cart/clear
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: true
2025-09-20 12:55:39.430 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/clear, 方法: DELETE, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: clearUserCart, 参数: [frontenduser]
2025-09-20 12:55:39.430 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:39.430 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d731e9c] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:39.431 [http-nio-8080-exec-7] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@396706224 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:39.431 [http-nio-8080-exec-7] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.delete - ==>  Preparing: DELETE FROM shopping_cart WHERE (username = ?)
2025-09-20 12:55:39.431 [http-nio-8080-exec-7] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.delete - ==> Parameters: frontenduser(String)
2025-09-20 12:55:39.436 [http-nio-8080-exec-7] DEBUG t.chhsich.backend.mapper.ShoppingCartMapper.delete - <==    Updates: 2
2025-09-20 12:55:39.436 [http-nio-8080-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d731e9c]
2025-09-20 12:55:39.436 [http-nio-8080-exec-7] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: anonymousUser, 角色: [ROLE_ANONYMOUS], URI: /WebOrderSystem/api/cart/clear, 方法: DELETE, IP: 0:0:0:0:0:0:0:1, 控制器: ShoppingCartController, 方法名: clearUserCart, 执行时间: 6ms
2025-09-20 12:55:39.472 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:39.473 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/orders?page=1&size=10
[JWT Filter] Path: /WebOrderSystem/api/orders
[JWT Filter] ContextPath: /WebOrderSystem
[JWT Filter] API Prefix: /WebOrderSystem/api
[JWT Filter] Is login path: false
[JWT Filter] Should not filter: false
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求开始 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 参数: 无参数
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9e4ad2] was not registered for synchronization because synchronization is not active
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] DEBUG o.m.spring.transaction.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1278082436 wrapping com.mysql.cj.jdbc.ConnectionImpl@64b90979] will not be managed by Spring
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==>  Preparing: SELECT * FROM cg_info WHERE username = ?
2025-09-20 12:55:39.474 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - ==> Parameters: frontenduser(String)
2025-09-20 12:55:39.475 [http-nio-8080-exec-6] DEBUG t.c.backend.mapper.OrderInfoMapper.findByUsername - <==      Total: 6
2025-09-20 12:55:39.475 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9e4ad2]
2025-09-20 12:55:39.475 [http-nio-8080-exec-6] INFO  tech.chhsich.backend.aspect.LoggingAspect - API请求成功 - 用户: frontenduser, 角色: [ROLE_USER], URI: /WebOrderSystem/api/orders, 方法: GET, IP: 0:0:0:0:0:0:0:1, 控制器: OrderController, 方法名: getCurrentUserOrders, 执行时间: 1ms
2025-09-20 12:57:58.549 [SpringApplicationShutdownHook] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-20 12:57:58.551 [tomcat-shutdown] INFO  o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-20 12:57:58.562 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - WebOrderHikariCP - Shutdown initiated...
2025-09-20 12:57:58.563 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - WebOrderHikariCP - Shutdown completed.
