## 一、Git 操作规范
### 1. Git 提交规范
#### 1.1 提交格式
```shell
[gitmoji] 类型(模块): 核心描述
```

+ **gitmoji**：直观区分提交类型（如新增/修复）；
+ **类型**：明确提交性质（如`feat`=新增功能）；
+ **模块**：标注涉及的业务模块（如`订单`/`会员`/`菜品`）；
+ **核心描述**：1句话说清“做了什么”，50字以内。

#### 1.2 常用 gitmoji + 类型 + 场景示例（直接复用）
| gitmoji | 类型 | 适用场景 | 完整示例（可直接复制参考） |
| --- | --- | --- | --- |
| ✨ | feat | 新增功能 | `✨ feat(会员): 新增手机号验证码注册功能` |
| 🐛 | fix | 修复功能bug | `🐛 fix(订单): 修复订单金额计算错误（小数位丢失）` |
| 🎨 | style | 调整UI样式/代码格式 | `🎨 style(菜品): 优化菜品卡片布局（增加图片间距）` |
| ♻️ | refactor | 重构代码（不改功能） | `♻️ refactor(支付): 拆分支付接口冗余逻辑` |
| 📝 | docs | 更新文档/接口注释 | `📝 docs(接口): 补充订单提交接口参数说明` |
| ✅ | test | 新增/修改测试用例 | `✅ test(登录): 新增“密码错误”场景测试用例` |
| 🔥 | remove | 删除无用代码/文件 | `🔥 remove(旧功能): 删除废弃的“线下支付”代码` |
| 📦 | chore | 更新依赖/配置文件 | `📦 chore(环境): 升级MySQL驱动至8.0.36版本` |


#### 1.3 提交前必做检查
1. **本地验证**：提交前运行代码，确保无语法错误、功能可正常使用（如新增注册功能，需自己测1次注册流程）；
2. **单次聚焦**：1次提交只做1件事（例：不允许“新增登录功能+修复订单bug”放同1次提交）；
3. **暂存正确文件**：用`git status`检查，避免提交本地配置文件（如`idea.iml`、`target/`），可通过`.gitignore`过滤。

#### 1.4 错误示例 vs 正确示例
| 类型 | 错误示例（问题） | 正确示例（改进） |
| --- | --- | --- |
| 描述模糊 | `✨ feat: 加了点东西`（不知道加了什么） | `✨ feat(菜品): 新增“菜品收藏”功能` |
| 多事混合 | `🐛 fix(订单): 修复金额+加了地址验证`（2件事） | 拆分为2次提交：   1. `🐛 fix(订单): 修复金额计算错误`   2. `✨ feat(订单): 新增收货地址格式验证` |
| 模块缺失 | `✨ feat: 新增验证码登录`（不知道哪个模块） | `✨ feat(会员): 新增手机号验证码登录功能` |


### 2. 分支管理规范
#### 2.1 分支类型与用途
| 分支名称格式 | 用途 | 操作权限 |
| --- | --- | --- |
| `main` | 存放可运行的稳定代码（最终版本） | 禁止直接提交，仅通过PR合并 |
| `develop` | 开发主分支（聚合所有人的功能） | 禁止直接提交，仅通过PR合并 |
| `feature/模块-功能` | 个人开发新功能时使用 | 仅创建者修改 |
| `bugfix/模块-问题` | 修复开发中的bug时使用 | 仅创建者修改 |


#### 2.2 分支操作完整流程
##### 步骤1：从`develop`拉取个人功能分支（开发前必做）
```bash
# 1. 先切换到develop分支
git checkout develop

# 2. 拉取develop最新代码（避免基于旧代码开发，减少冲突）
git pull origin develop

# 3. 创建个人feature分支（示例：开发“会员注册”功能）
git checkout -b feature/会员-注册
```

##### 步骤2：开发中提交代码
```bash
# 1. 查看已修改的文件
git status

# 2. 暂存需要提交的文件（例：暂存src目录下的所有Java文件）
git add src/main/java/com/weborder/

# 3. 提交代码（按规范写信息）
git commit -m "✨ feat(会员): 新增手机号验证码注册功能"

# 4. 推送到远程仓库（保存进度，防止本地丢代码）
git push origin feature/会员-注册
```

##### 步骤3：功能完成后合并到`develop`
+ 推送分支后，在GitHub上创建PR，目标分支选择`develop`（具体操作见“PR规范”）；
+ PR合并后，删除本地和远程的`feature/会员-注册`分支（避免冗余）：

```bash
# 删除本地分支
git checkout develop
git branch -d feature/会员-注册

# 删除远程分支
git push origin --delete feature/会员-注册
```

#### 2.3 分支命名规则
+ 格式：`类型/模块-具体功能`（全部小写，用中横线分隔）；
+ 示例：
    - 正确：`feature/订单-提交`、`bugfix/菜品-图片加载失败`；
    - 错误：`feature/dingdan`（无具体功能）、`bugfix/fix123`（不知道修什么）。



## 二、Pull Request（PR）规范
### 1. PR 标题格式
```bash
[类型] 模块-核心功能
```

+ 示例：`[feat] 会员-新增手机号验证码注册`、`[fix] 订单-修复金额计算错误`。

### 2. PR 内容要求（必须包含3点，方便审查）
#### 示例模板
```bash
### 1. 功能说明（做了什么）
- 新增手机号验证码注册功能，集成短信接口；
- 实现手机号格式校验（11位数字）、验证码60秒倒计时。

### 2. 测试情况（测了什么，是否通过）
- 测试场景1：正确手机号+有效验证码 → 注册成功；
- 测试场景2：手机号格式错误（10位） → 提示“请输入11位手机号”；
- 测试场景3：验证码过期 → 提示“验证码已过期，请重新获取”。

### 3. 依赖说明（需他人配合的内容）
- 需在application.yml中配置短信API的key和secret；
- 依赖后端“短信发送接口”已开发完成（接口地址：/api/frontend/member/sendSms）。
```

## 三、代码规范（仅保留核心：命名规则）
### 命名规则（统一风格，避免混乱）
| 类型 | 规则 | 示例 | 错误示例 |
| --- | --- | --- | --- |
| 类名 | 大驼峰（首字母大写） | `UserService`、`OrderController` | `userservice`、`order_controller` |
| 方法名 | 小驼峰（首字母小写） | `getUserById()`、`submitOrder()` | `GetUserById()`、`submit_order()` |
| 变量名 | 小驼峰 | `userId`、`orderPrice` | `userid`、`order_price` |
| 常量 | 全大写+下划线 | `MAX_ORDER_NUM`、`SMS_EXPIRE_TIME` | `maxOrderNum`、`smsExpireTime` |
| 数据库表名 | 小写+下划线 | `user_info`、`order_list` | `UserInfo`、`OrderList` |
| 数据库字段名 | 小写+下划线 | `user_id`、`phone` | `userId`、`Phone` |


